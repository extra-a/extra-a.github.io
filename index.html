<!DOCTYPE html>
<html>
  <head>
    <title>Sauerbraten SDL2 Client</title>
    <link href="http://fonts.googleapis.com/css?family=Ubuntu+Mono|Source+Sans+Pro" rel="stylesheet" type="text/css">    
    <link href="style/style.css" rel="stylesheet" type="text/css">
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8">
  </head>

  <body>
    <div id="content">

      <h1>Sauerbraten SDL2 Client</h1>

      <div class="table">
        <div id="download" class="cell">
          <a class="download-button" href="https://github.com/extra-a/sauer-sdl2-bins/archive/master.zip">
            <div>Download</div>
            <div id="version">Version</div>
          </a>
        </div>
        <div id="description" class="cell">
          <p id="main-description">
            <a href="http://sauerbraten.org/">Sauerbraten</a> SDL2
            Client client for windows/linux. It also has some
            additional features and HUD customisations, that have been
            missing for years (all of them are disabled by default and
            separate configuration files are
            used). Use <code>/extendedsettings</code> command to
            access new configuration GUI.
          </p>
        </div>
      </div>

      <h2>Features</h2>

      <div id="features">
        <ul>
          <li>New HUD with highly customisable elements</li>
          <li>New HUD elements: clock, scores and ammobar</li>
          <li>Several predefined HUD customisations</li>
          <li>Spectator HUD lagometer and player's ping</li>
          <li>Colored health and armour</li>
          <li>Server scoreboard previews</li>
          <li>Options to show more statistics on scoreboard</li>
          <li>Options to remove some particles effects</li>
          <li>Use spectating player team</li>
          <li>Detailed player's statistics
            via <code>/showplayerstats</code><br>
            <span class="note"> Note: statistics are gathered only after connecting
            to a server</span></li>
          <li>Optional detailed statistics logging on a game end</li>
          <li>New variable <code>positionpacketdelay</code> that
            decreases client packet delay <br>
            <span class="note"> Note: see Better networking
              section</span></li>
          <li>New
            command <code>/writeextendedcfg <i>filename</i></code> to
            save only new variables in a specific file</li>
          <li>New
            command <code>/ignoreserver <i>host</i> <i>[port]</i></code>
            to permanently ignore any server on the master list</li>
          <li>New
            command <code>/demoseek <i>min</i> <i>sec</i></code> to
            make a fast rewind to any position in a demo</li>
          <li>Open
            source: <a href="https://github.com/extra-a/sauer-sdl2.git">code
              is on GitHub</a></li>
        </ul>
      </div>

      <h2>Better networking</h2>

      <div class="text-container">
        <p>
          By default sauerbraten client sends around 30 player position
          packets per second. Server retranslates these packets to
          other clients with the same rate of 30 packets per
          second. Time between two received position packets from a
          server is also know as pj. Such low rates were used back in
          90s for modem connection rates and are obsolete nowadays,
          only causing huge artificial network lags.

        <p>
          So position handing is working this way. The first step is
          when a client sends position packet with a <i>delay of
          sender packet rate</i> (33ms), then it takes a <i>sender
          network delay</i> before a packet reaches the server. Then
          <i>server packet rate delay</i> that varies from 0ms to 33ms
          occurs. And then the final <i>receiver network delay</i>
          takes place.
        </p>

        <p>
          This results in artificial delays form 33ms up to 66ms. The
          first problem is that such values are significant compared
          to networks delays which are about half of a ping value. The
          second problem is that this delay is a variable. Client side
          interpolation and (sauerbraten uses client side hit
          detection) will have significant position errors because a
          time interval between two recieved position packets can be
          two times wider than the original one. Furthermore colliding
          frequencies of server's and client's packet rates are
          causing even larger delays. When sender's network delay
          slightly increases, the time interval between two packets
          will be more than a server packet rate. This could often
          happen even on a very good connection. The result will be
          that a packet will miss a server time slice adding even
          more 33ms delay. This case also could be seen on a
          lagometer, client pj will jump up to 66ms.
        </p>

        <p>
          The sender packet rate of 125 packets per second and default
          server rate could significantly improve position
          precision. Several client packets are send to a server in
          one time slice, so a receiver will still have only 30
          position packets but the additional delay will be only from
          8ms to 16ms. And for a server with a lower packets delays
          around 10-20ms that value will be even lower and position
          interpolation will be made with 50-100 packet per second.
        </p>

        <p>
          In conclusion, client 8ms position packet delay and 10-20
          server one will give much better results. It will increase
          server traffic around 3 times, but that should not be a
          problem today. Also these changes are fully compatable with
          the sauerbraten default client and server.
        </p>

        <div id="serverlist">
          <h4>Servers with support of lower postion delay</h4>
          <ul>
            <li><a href="https://code.google.com/p/remod-sauerbraten/">Remod</a></li>
          </ul>
        </div>

      </div>


      <h2>Screenshots</h2>

      <div id="screenshots">
        <div class="figure">
          <img src="./screenshots/hudnew.jpg" alt="New HUD variant 1">
          <div class="caption">New customisable HUD</div>
        </div>
        <div class="figure">
          <img src="./screenshots/hudnew2.jpg" alt="New HUD variant 2">
          <div class="caption">New customisable HUD</div>
        </div>
        <div class="figure">
          <img src="./screenshots/hudoldext.jpg" alt="Old extended HUD">
          <div class="caption">Additional elements with the default HUD</div>
        </div>
        <div class="figure">
          <img src="./screenshots/scores.jpg" alt="Scoreboard">
          <div class="caption">Scoreboard with additional statistics</div>
        </div>
        <div class="figure">
          <img src="./screenshots/stats.jpg" alt="Detailed player statistics">
          <div class="caption">Detailed player statistics</div>
        </div>
        <div class="figure">
          <img src="./screenshots/menu.jpg" alt="New features configuration GUI">
          <div class="caption">Configuration GUI</div>
        </div>
        <div class="figure">
          <img src="./screenshots/server_preview.jpg" alt="Server preview">
          <div class="caption">Server preview</div>
        </div>
      </div>
    </div>
    <script src="jquery.xdomainajax.js"></script>
    <script src="version.js"></script>
  </body>

</html>
